name: app
env:
  RAILWAY_APP_PORT: ${{ RANDOM_PORT }}
build:
  steps:
    - name: install python
      image: railway/python
      command:
        - apt-get update
        - apt-get install -y python3-pip
    - name: install app dependencies
      command:
        - pip3 install -r notebooks/requirements.txt
serve:
  command: voila --port $8000 notebooks/app.ipynb
  env:
    RAILWAY_APP_PORT: 8000